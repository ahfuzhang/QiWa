| 对比           | golang                                                                                                                                                              | C#                                                                                                                                                                                                                                                                                                                                                                                                            |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                | defer                                                                                                                                                               | using var xx = new XX();                                                                                                                                                                                                                                                                                                                                                                                      |
|                |                                                                                                                                                                     | await                                                                                                                                                                                                                                                                                                                                                                                                         |
| 生成器         |                                                                                                                                                                     | yield return                                                                                                                                                                                                                                                                                                                                                                                                  |
| -              | -                                                                                                                                                                   | async 函数中调用另一个 async 函数。<br />(与调用普通函数没有差别)                                                                                                                                                                                                                                                                                                                                             |
|                | func A(){<br />     go B()<br />}                                                                                                                                | Task.Run(() => B());<br />async 函数中，使用 task new 来创建协程<br />（等同于新创建协程）                                                                                                                                                                                                                                                                                                                    |
|                |                                                                                                                                                                     | async 函数中调用一个同步函数。<br />（等同于函数内的顺序执行代码）                                                                                                                                                                                                                                                                                                                                            |
|                | func A(){<br />  var wg sync.WaitGroup<br />  wg.Add(1)<br />  go func(){<br />      defer wg.Done()<br />       B()<br />  }()<br />  wg.Wait()<br />} | async 函数中，使用 awiat 模式调用另一个函数。<br />(相当于 join 一个协程)                                                                                                                                                                                                                                                                                                                                     |
|                |                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                               |
|                | go.mod                                                                                                                                                              | .csproj                                                                                                                                                                                                                                                                                                                                                                                                       |
|                | go mod download                                                                                                                                                     | dotnet restore                                                                                                                                                                                                                                                                                                                                                                                                |
|                | go build                                                                                                                                                            | dotnet build                                                                                                                                                                                                                                                                                                                                                                                                  |
|                | go run                                                                                                                                                              | dotnet run                                                                                                                                                                                                                                                                                                                                                                                                    |
|                | go test                                                                                                                                                             | dotnet test                                                                                                                                                                                                                                                                                                                                                                                                   |
| 包对应的目录   | ~/go/pkg/mod                                                                                                                                                        | ~/.nuget/packages/                                                                                                                                                                                                                                                                                                                                                                                            |
|                | go get github.com/gin-gonic/gin                                                                                                                                     | dotnet add package System.CommandLine                                                                                                                                                                                                                                                                                                                                                                         |
|                | go mod init github.com/user/app                                                                                                                                     | dotnet new console -n MyApp                                                                                                                                                                                                                                                                                                                                                                                   |
| 工程文件       |                                                                                                                                                                     | dotnet new sln<br />dotnet sln add MyApp/MyApp.csproj                                                                                                                                                                                                                                                                                                                                                         |
| 查看库的软件源 |                                                                                                                                                                     | dotnet nuget list source                                                                                                                                                                                                                                                                                                                                                                                      |
| 库对应的文档   |                                                                                                                                                                     | https://www.nuget.org/packages/Microsoft.Extensions.Logging                                                                                                                                                                                                                                                                                                                                                   |
| 原子操作       |                                                                                                                                                                     | System.Threading.Interlocked<br />Interlocked.Increment(**ref** counter);<br />Interlocked.Decrement(**ref** counter);<br />Interlocked.Add(**ref** counter, delta);<br />**var** old = Interlocked.Exchange(**ref** **value**, newValue);<br />Interlocked.CompareExchange(**ref** location, newValue, expectedValue);<br />long v = Interlocked.Read(ref myLong); |
| 异常处理       | func A(){<br />    defer func(){<br />         if err:=recover(); err!=nil {<br /><br />          }<br />    }()<br />}                               | try{} catch(Exception err){} finnaly{}                                                                                                                                                                                                                                                                                                                                                                        |
| -              | sync.Value                                                                                                                                                          | Volatile.Read(**ref** _value);<br />Interlocked.Exchange(**ref** _value, **value**);                                                                                                                                                                                                                                                                                                        |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |
| -              | -                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                             |

* csproj 文件

```xml
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="System.CommandLine" Version="2.0.0-beta4" />
    <PackageReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>

</Project>
```
